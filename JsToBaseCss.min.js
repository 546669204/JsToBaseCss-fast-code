Array.prototype.unique=function(){var d,c,a=[],b={};for(c=0;null!=(d=this[c]);c++)b[d]||(a.push(d),b[d]=!0);return a},$(document).ready(function(){var d,e,f,g,h,i,a=(new Date).getMilliseconds(),b=[],c={"^bg(\\w*)$":["backgroundcolor:#{$$}"],"^color(\\w*)$":["color:#{$$}"],"^ml(\\w*)$":["marginleft:{$$}px"],"^mr(\\w*)$":["marginright:{$$}px"],"^mt(\\w*)$":["margintop:{$$}px"],"^mb(\\w*)$":["marginbottom:{$$}px"],"^padding(\\w*)$":["padding:{$$}px"],"^pl(\\w*)$":["paddingleft:{$$}px"],"^pr(\\w*)$":["paddingright:{$$}px"],"^pt(\\w*)$":["paddingtop:{$$}px"],"^pb(\\w*)$":["paddingbottom:{$$}px"],"^fs(\\w*)$":["fontsize:{$$}px"]};$("body").append($("<style/>").attr("class","insetstyle")),$("*").each(function(){var a=$(this).attr("class");return void 0==a?!0:(a.indexOf(" ")>=0?b=b.concat(a.split(" ")):b.push(a),void 0)}),d=b.unique().join("\n");for(e in c)if(c.hasOwnProperty(e))for(f=c[e],g=new RegExp(e,"gm");null!=(rs=g.exec(d));)h="."+rs[0]+"{"+f[0].replace("{$$}",rs[1])+"}",$(".insetstyle").append(h);i=(new Date).getMilliseconds(),console.log(i-a)});